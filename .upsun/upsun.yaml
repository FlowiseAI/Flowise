applications:
  - name: flowise-app
    type: "nodejs:22"  # Specify the Node.js runtime version

    hooks:
      build: |
        # Install PNPM globally
        npm install -g pnpm
        # Use PNPM to install dependencies
        pnpm install

      deploy: |
        pnpm run build

    web:
      commands:
        start: "pnpm start"

routes:
  "https://{default}/":
    type: upstream
    upstream: flowise-app:http
