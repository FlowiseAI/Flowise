---
id: upsert-document
title: "Upsert document to document store"
description: "Upsert document to document store"
sidebar_label: "Upsert document to document store"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/document-store/document-store-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Upsert document to document store"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/document-store/upsert/{id}"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Upsert document to document store

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"},"description":"Document Store ID"}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the document store loader","example":"loader_12345"},"loaderId":{"type":"string","description":"ID of the loader","example":"pdf"},"loaderName":{"type":"string","description":"Name of the loader","example":"PDF Loader"},"loaderConfig":{"type":"object","description":"Configuration for the loader","example":{"source":"https://example.com/document.pdf"}},"splitterId":{"type":"string","description":"ID of the text splitter","example":"recursive"},"splitterName":{"type":"string","description":"Name of the text splitter","example":"Recursive Character Text Splitter"},"splitterConfig":{"type":"object","description":"Configuration for the text splitter","example":{"chunkSize":1000,"chunkOverlap":200}},"files":{"type":"array","description":"Files to be loaded","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Unique identifier for the file","example":"file_12345"},"name":{"type":"string","description":"Name of the file","example":"product_requirements.pdf"},"type":{"type":"string","description":"Type of the file","example":"pdf"},"path":{"type":"string","description":"Path to the file","example":"/uploads/product_requirements.pdf"},"size":{"type":"integer","description":"Size of the file in bytes","example":1024},"content":{"type":"string","description":"Content of the file (base64 encoded)","example":"base64encodedcontent"}},"required":["name","type"],"title":"DocumentStoreLoaderFile"}}},"required":["loaderId","splitterId","files"],"title":"DocumentStoreLoaderForUpsert"}},"multipart/form-data":{"schema":{"type":"object","properties":{"files":{"type":"array","items":{"type":"string","format":"binary"},"description":"Files to be uploaded"},"docId":{"type":"string","nullable":true,"example":"603a7b51-ae7c-4b0a-8865-e454ed2f6766","description":"Document ID to use existing configuration"},"loader":{"type":"string","nullable":true,"example":"{\"name\":\"plainText\",\"config\":{\"text\":\"why the sky is blue\"}}","description":"Loader configurations"},"splitter":{"type":"string","nullable":true,"example":"{\"name\":\"recursiveCharacterTextSplitter\",\"config\":{\"chunkSize\":2000}}","description":"Splitter configurations"},"embedding":{"type":"string","nullable":true,"example":"{\"name\":\"openAIEmbeddings\",\"config\":{\"modelName\":\"text-embedding-ada-002\"}}","description":"Embedding configurations"},"vectorStore":{"type":"string","nullable":true,"example":"{\"name\":\"faiss\"}","description":"Vector Store configurations"},"recordManager":{"type":"string","nullable":true,"example":"{\"name\":\"postgresRecordManager\"}","description":"Record Manager configurations"},"metadata":{"type":"object","nullable":true,"description":"Metadata associated with the document","example":{"foo":"bar"}},"replaceExisting":{"type":"boolean","nullable":true,"description":"Whether to replace existing document loader with the new upserted chunks. However this does not delete the existing embeddings in the vector store"},"createNewDocStore":{"type":"boolean","nullable":true,"description":"Whether to create a new document store"},"docStore":{"type":"object","nullable":true,"description":"Only when createNewDocStore is true, pass in the new document store configuration","properties":{"name":{"type":"string","example":"plainText","description":"Name of the new document store to be created"},"description":{"type":"string","example":"plainText","description":"Description of the new document store to be created"}}}},"required":["files"]}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successfully execute upsert operation","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Success status of the operation","example":true},"message":{"type":"string","description":"Message describing the result of the operation","example":"Document upserted successfully"}},"title":"VectorUpsertResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","description":"Error code","example":"invalid_request"},"message":{"type":"string","description":"Error message","example":"The request was invalid"},"details":{"type":"object","description":"Additional error details","example":{"field":"name","issue":"Name is required"}}},"title":"Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string","description":"Error code","example":"invalid_request"},"message":{"type":"string","description":"Error message","example":"The request was invalid"},"details":{"type":"object","description":"Additional error details","example":{"field":"name","issue":"Name is required"}}},"title":"Error"}}}}}}
>
  
</StatusCodes>


      