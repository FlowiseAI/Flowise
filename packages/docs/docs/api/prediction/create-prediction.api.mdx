---
id: create-prediction
title: 'Create a new prediction'
description: 'Create a new prediction for a specific chatflow'
sidebar_label: 'Create a new prediction'
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: 'post api-method'
info_path: docs/api/prediction/prediction-api
custom_edit_url: null
---

import MethodEndpoint from '@theme/ApiExplorer/MethodEndpoint'
import ParamsDetails from '@theme/ParamsDetails'
import RequestSchema from '@theme/RequestSchema'
import StatusCodes from '@theme/StatusCodes'
import OperationTabs from '@theme/OperationTabs'
import TabItem from '@theme/TabItem'
import Heading from '@theme/Heading'

<Heading as={'h1'} className={'openapi__heading'} children={'Create a new prediction'}></Heading>

<MethodEndpoint method={'post'} path={'/prediction/{id}'} context={'endpoint'}></MethodEndpoint>

Create a new prediction for a specific chatflow

<Heading id={'request'} as={'h2'} className={'openapi-tabs__heading'} children={'Request'}></Heading>

<ParamsDetails
    parameters={[{ in: 'path', name: 'id', required: true, schema: { type: 'string' }, description: 'Chatflow ID' }]}
></ParamsDetails>

<RequestSchema
    title={'Body'}
    body={{
        content: {
            'application/json': {
                schema: {
                    type: 'object',
                    properties: {
                        question: { type: 'string', description: 'The question being asked' },
                        overrideConfig: {
                            type: 'object',
                            description: 'The configuration to override the default prediction settings (optional)'
                        },
                        history: {
                            type: 'array',
                            description: 'The history messages to be prepended (optional)',
                            items: {
                                type: 'object',
                                properties: {
                                    role: {
                                        type: 'string',
                                        enum: ['apiMessage', 'userMessage'],
                                        description: 'The role of the message',
                                        example: 'apiMessage'
                                    },
                                    content: {
                                        type: 'string',
                                        description: 'The content of the message',
                                        example: 'Hello, how can I help you?'
                                    }
                                }
                            }
                        },
                        uploads: {
                            type: 'array',
                            items: {
                                type: 'object',
                                properties: {
                                    type: {
                                        type: 'string',
                                        enum: ['audio', 'url', 'file', 'file:rag', 'file:full'],
                                        description: 'The type of file upload',
                                        example: 'file'
                                    },
                                    name: { type: 'string', description: 'The name of the file or resource', example: 'image.png' },
                                    data: {
                                        type: 'string',
                                        description: 'The base64-encoded data or URL for the resource',
                                        example:
                                            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABjElEQVRIS+2Vv0oDQRDG'
                                    },
                                    mime: { type: 'string', description: 'The MIME type of the file or resource', example: 'image/png' }
                                }
                            }
                        }
                    },
                    title: 'Prediction'
                }
            },
            'multipart/form-data': {
                schema: {
                    type: 'object',
                    properties: {
                        question: { type: 'string', description: 'Question to ask during the prediction process' },
                        files: { type: 'array', items: { type: 'string', format: 'binary' }, description: 'Files to be uploaded' },
                        modelName: { type: 'string', nullable: true, example: '', description: 'Other override configurations' }
                    },
                    required: ['question']
                }
            }
        },
        required: true
    }}
></RequestSchema>

<StatusCodes
    id={undefined}
    label={undefined}
    responses={{
        '200': {
            description: 'Prediction created successfully',
            content: {
                'application/json': {
                    schema: {
                        type: 'object',
                        properties: {
                            text: { type: 'string', description: 'The result of the prediction' },
                            json: { type: 'object', description: 'The result of the prediction in JSON format if available' },
                            question: { type: 'string', description: 'The question asked during the prediction process' },
                            chatId: { type: 'string', description: 'The chat ID associated with the prediction' },
                            chatMessageId: { type: 'string', description: 'The chat message ID associated with the prediction' },
                            sessionId: { type: 'string', description: 'The session ID associated with the prediction' },
                            memoryType: { type: 'string', description: 'The memory type associated with the prediction' },
                            sourceDocuments: {
                                type: 'array',
                                items: {
                                    type: 'object',
                                    properties: {
                                        pageContent: { type: 'string', example: 'This is the content of the page.' },
                                        metadata: {
                                            type: 'object',
                                            additionalProperties: { type: 'string' },
                                            example: { author: 'John Doe', date: '2024-08-24' }
                                        }
                                    },
                                    title: 'Document'
                                }
                            },
                            usedTools: {
                                type: 'array',
                                items: {
                                    type: 'object',
                                    properties: {
                                        tool: { type: 'string', example: 'Name of the tool' },
                                        toolInput: {
                                            type: 'object',
                                            additionalProperties: { type: 'string' },
                                            example: { input: 'search query' }
                                        },
                                        toolOutput: { type: 'string' }
                                    },
                                    title: 'UsedTool'
                                }
                            },
                            fileAnnotations: {
                                type: 'array',
                                items: {
                                    type: 'object',
                                    properties: {
                                        filePath: { type: 'string', example: 'path/to/file' },
                                        fileName: { type: 'string', example: 'file.txt' }
                                    },
                                    title: 'FileAnnotation'
                                }
                            }
                        }
                    }
                }
            }
        },
        '400': { description: 'Invalid input provided' },
        '404': { description: 'Chatflow not found' },
        '422': { description: 'Validation error' },
        '500': { description: 'Internal server error' }
    }}
></StatusCodes>
