---
id: create-prediction
title: 'Create a new prediction'
description: 'Create a new prediction for a specific chatflow'
sidebar_label: 'Create a new prediction'
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: 'post api-method'
info_path: docs/api/prediction/prediction-api
custom_edit_url: null
---

import MethodEndpoint from '@theme/ApiExplorer/MethodEndpoint'
import ParamsDetails from '@theme/ParamsDetails'
import RequestSchema from '@theme/RequestSchema'
import StatusCodes from '@theme/StatusCodes'
import OperationTabs from '@theme/OperationTabs'
import TabItem from '@theme/TabItem'
import Heading from '@theme/Heading'

<Heading as={'h1'} className={'openapi__heading'} children={'Create a new prediction'}></Heading>

<MethodEndpoint method={'post'} path={'/prediction/{id}'} context={'endpoint'}></MethodEndpoint>

Create a new prediction for a specific chatflow

<Heading id={'request'} as={'h2'} className={'openapi-tabs__heading'} children={'Request'}></Heading>

<ParamsDetails
    parameters={[{ in: 'path', name: 'id', required: true, schema: { type: 'string' }, description: 'Chatflow ID' }]}
></ParamsDetails>

<RequestSchema
    title={'Body'}
    body={{
        content: {
            'application/json': {
                schema: {
                    type: 'object',
                    properties: {
                        question: { type: 'string', description: 'The question being asked' },
                        overrideConfig: {
                            type: 'object',
                            description: 'The configuration to override the default prediction settings (optional)'
                        },
                        history: {
                            type: 'array',
                            description: 'The history messages to be prepended (optional)',
                            items: {
                                type: 'object',
                                properties: {
                                    role: {
                                        type: 'string',
                                        enum: ['apiMessage', 'userMessage'],
                                        description: 'The role of the message',
                                        example: 'apiMessage'
                                    },
                                    content: {
                                        type: 'string',
                                        description: 'The content of the message',
                                        example: 'Hello, how can I help you?'
                                    }
                                }
                            }
                        },
                        uploads: {
                            type: 'array',
                            items: {
                                type: 'object',
                                properties: {
                                    type: {
                                        type: 'string',
                                        description: "The type of file upload (e.g., 'file', 'audio', 'url')",
                                        example: 'file'
                                    },
                                    name: { type: 'string', description: 'The name of the file or resource', example: 'image.png' },
                                    data: {
                                        type: 'string',
                                        description: 'The base64-encoded data or URL for the resource',
                                        example:
                                            'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABjElEQVRIS+2Vv0oDQRDG'
                                    },
                                    mime: { type: 'string', description: 'The MIME type of the file or resource', example: 'image/png' }
                                }
                            }
                        }
                    },
                    required: ['question'],
                    title: 'Prediction'
                }
            },
            'multipart/form-data': {
                schema: {
                    type: 'object',
                    properties: {
                        question: { type: 'string', description: 'Question to ask during the prediction process' },
                        files: { type: 'array', items: { type: 'string', format: 'binary' }, description: 'Files to be uploaded' },
                        modelName: { type: 'string', nullable: true, example: '', description: 'Other override configurations' }
                    },
                    required: ['question']
                }
            }
        },
        required: true
    }}
></RequestSchema>

<StatusCodes
    id={undefined}
    label={undefined}
    responses={{
        '200': {
            description: 'Prediction created successfully',
            content: {
                'application/json': {
                    schema: {
                        type: 'object',
                        properties: {
                            text: { type: 'string', description: 'The result of the prediction' },
                            json: { type: 'object', description: 'The result of the prediction in JSON format if available' },
                            question: { type: 'string', description: 'The question asked during the prediction process' },
                            chatId: { type: 'string', description: 'The chat ID associated with the prediction' },
                            chatMessageId: { type: 'string', description: 'The chat message ID associated with the prediction' },
                            sessionId: { type: 'string', description: 'The session ID associated with the prediction' },
                            memoryType: { type: 'string', description: 'The memory type associated with the prediction' },
                            sourceDocuments: {
                                type: 'array',
                                items: {
                                    type: 'object',
                                    properties: {
                                        pageContent: { type: 'string', example: 'This is the content of the page.' },
                                        metadata: {
                                            type: 'object',
                                            additionalProperties: { type: 'string' },
                                            example: { author: 'John Doe', date: '2024-08-24' }
                                        }
                                    },
                                    title: 'Document'
                                }
                            },
                            usedTools: {
                                type: 'array',
                                items: {
                                    type: 'object',
                                    properties: {
                                        tool: { type: 'string', example: 'Name of the tool' },
                                        toolInput: {
                                            type: 'object',
                                            additionalProperties: { type: 'string' },
                                            example: { input: 'search query' }
                                        },
                                        toolOutput: { type: 'string' }
                                    },
                                    title: 'UsedTool'
                                }
                            },
                            fileAnnotations: {
                                type: 'array',
                                items: {
                                    type: 'object',
                                    properties: {
                                        filePath: { type: 'string', example: 'path/to/file' },
                                        fileName: { type: 'string', example: 'file.txt' }
                                    },
                                    title: 'FileAnnotation'
                                }
                            }
                        },
                        title: 'PredictionResponse'
                    }
                }
            }
        },
        '400': { description: 'Invalid input provided' },
        '404': { description: 'Chatflow not found' },
        '422': { description: 'Validation error' },
        '500': { description: 'Internal server error' }
    }}
></StatusCodes>
