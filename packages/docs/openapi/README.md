# OpenAPI Documentation

This directory contains OpenAPI specification files for the AnswerAI API documentation.

## Directory Structure

The following YAML files define the API specifications:

-   `assistants.yaml` - OpenAPI specification for the Assistants API
-   `attachments.yaml` - OpenAPI specification for the Attachments API
-   `chat-message.yaml` - OpenAPI specification for the Chat Message API
-   `chatflows.yaml` - OpenAPI specification for the Chatflows API
-   `document-store.yaml` - OpenAPI specification for the Document Store API
-   `feedback.yaml` - OpenAPI specification for the Feedback API
-   `leads.yaml` - OpenAPI specification for the Leads API
-   `ping.yaml` - OpenAPI specification for the Ping API
-   `prediction.yaml` - OpenAPI specification for the Prediction API
-   `tools.yaml` - OpenAPI specification for the Tools API
-   `upsert-history.yaml` - OpenAPI specification for the Upsert History API
-   `variables.yaml` - OpenAPI specification for the Variables API
-   `vector-upsert.yaml` - OpenAPI specification for the Vector Upsert API

## How to Generate API Documentation

To generate the API documentation, run:

```bash
cd packages/docs
pnpm gen-api-docs all
```

This will:

1. Clean any existing API documentation
2. Generate new API documentation based on the OpenAPI specifications

## Adding a New API

To add a new API:

1. Create a new YAML file in the `openapi/` directory for your API (e.g., `new-api.yaml`)
2. Update the `docusaurus.config.ts` file to include your new API:
    ```typescript
    newApi: {
        specPath: 'openapi/new-api.yaml',
        outputDir: 'docs/api/new-api',
        sidebarOptions: {
            groupPathsBy: 'tag',
            categoryLinkSource: 'tag'
        }
    } satisfies OpenApiPlugin.Options,
    ```
3. Update the `sidebars.ts` file to include your new API in the sidebar:
    ```typescript
    {
        type: 'category',
        label: 'New API',
        link: {
            type: 'doc',
            id: 'api/new-api/new-api-api'
        },
        items: [
            {
                type: 'autogenerated',
                dirName: 'api/new-api'
            }
        ]
    },
    ```
4. Run `pnpm gen-api-docs new-api` to generate the documentation for your new API

## Resources

-   [Docusaurus OpenAPI Docs Plugin](https://github.com/PaloAltoNetworks/docusaurus-openapi-docs)
-   [OpenAPI Specification](https://spec.openapis.org/oas/latest.html)
